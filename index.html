<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exploring Bump Mapping with WebGL</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #fff;
            color: #111;
            display: flex;
            justify-content: center;
            margin: 0;
            padding: 20px;
        }
        .content {
            max-width: 700px;
            width: 100%;
        }
        h1 {
            font-size: 1.4em;
            margin-bottom: 16px;
        }
        canvas {
            display: block;
            cursor: pointer;
            border-radius: 4px;
            margin-bottom: 10px;
            width: 100%;
        }
        .controls-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 24px;
        }
        .control-column h3 {
            margin: 0 0 8px 0;
            font-size: 1em;
        }
        .control-column p {
            margin: 0;
        }
        input[type="radio"],
        input[type="checkbox"] {
            margin-right: 4px;
            accent-color: #111;
        }
        table {
            margin-top: 8px;
        }
        td {
            padding: 2px 8px 2px 0;
        }
        input[type="range"] {
            width: 160px;
            accent-color: #111;
        }
        .cost {
            color: #999;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
<div class="content">
    <h1>Exploring Bump Mapping with WebGL</h1>

    <div style="position: relative; display: inline-block; width: 100%;">
        <canvas id="gl_canvas" width="1080" height="607"></canvas>
        <div id="stats_overlay" style="position:absolute;bottom:8px;right:8px;background:rgba(0,0,0,0.55);color:#fff;font:12px/1.4 monospace;padding:4px 8px;border-radius:3px;pointer-events:none;"></div>
    </div>

    <div class="controls-grid">
        <div class="control-column">
            <h3>Texture set</h3>
            <p>
                <input type="radio" name="tex_set" value="bump" checked/>Classic<br/>
                <input type="radio" name="tex_set" value="bricks"/>Bricks<br/>
                <input type="radio" name="tex_set" value="rocks"/>Rocks
            </p>
            <br/>
            <p><input type="checkbox" id="show_tex" checked/>Show diffuse texture</p>
        </div>
        <div class="control-column">
            <h3>Parallax method</h3>
            <p>
                <input type="radio" name="shading_type" value="diffuse"/>None <span class="cost" id="cost_shading_diffuse"></span><br/>
                <input type="radio" name="shading_type" value="normal"/>Normal mapping <span class="cost" id="cost_shading_normal"></span><br/>
                <input type="radio" name="shading_type" value="parallax"/>Parallax mapping <span class="cost" id="cost_shading_parallax"></span><br/>
                <input type="radio" name="shading_type" value="steep"/>Steep parallax mapping <span class="cost" id="cost_shading_steep"></span><br/>
                <input type="radio" name="shading_type" value="pom"/>Parallax occlusion mapping <span class="cost" id="cost_shading_pom"></span><br/>
                <input type="radio" name="shading_type" value="iterative" checked/>Iterative parallax mapping <span class="cost" id="cost_shading_iterative"></span>
            </p>
            <table>
                <tr id="scale_control">
                    <td>Scale</td>
                    <td><input type="range" min="0" max="50" value="8" id="scale"/></td>
                    <td><span id="scale_val">0.08</span></td>
                </tr>
                <tr id="bias_ratio_control">
                    <td>Bias</td>
                    <td><input type="range" min="0" max="100" value="100" id="bias_ratio"/></td>
                    <td><span id="bias_ratio_val">100%</span></td>
                </tr>
                <tr id="step_control">
                    <td>Steps</td>
                    <td><input type="range" min="1" max="32" value="12" id="steps"/></td>
                    <td><span id="steps_val">12</span></td>
                </tr>
            </table>
        </div>
        <div class="control-column">
            <h3>Shadowing method</h3>
            <p>
                <input type="radio" name="shadow_type" value="none"/>None <span class="cost" id="cost_shadow_none"></span><br/>
                <input type="radio" name="shadow_type" value="hard"/>Hard POM <span class="cost" id="cost_shadow_hard"></span><br/>
                <input type="radio" name="shadow_type" value="soft"/>Soft POM <span class="cost" id="cost_shadow_soft"></span><br/>
                <input type="radio" name="shadow_type" value="fxps" checked/>Fast approximate <span class="cost" id="cost_shadow_fxps"></span><br/>
                <input type="radio" name="shadow_type" value="contact"/>Contact-hardening <span class="cost" id="cost_shadow_contact"></span><br/>
                <input type="radio" name="shadow_type" value="binary"/>Binary search <span class="cost" id="cost_shadow_binary"></span><br/>
                <input type="radio" name="shadow_type" value="cone"/>Cone-traced soft <span class="cost" id="cost_shadow_cone"></span><br/>
                <input type="radio" name="shadow_type" value="relief"/>Relief mapping <span class="cost" id="cost_shadow_relief"></span>
            </p>
            <table>
                <tr id="shadow_step_control">
                    <td>Steps</td>
                    <td><input type="range" min="1" max="32" value="3" id="shadow_steps"/></td>
                    <td><span id="shadow_steps_val">3</span></td>
                </tr>
            </table>
        </div>
    </div>
</div>

<script src="bump_mapping.js"></script>
</body>
</html>
